# ğŸ§  Codebase Genius

**AI-Powered Multi-Agent Code Documentation System built in Jaclang**

Codebase Genius automatically analyzes source code repositories, maps their structure, and generates intelligent, human-readable documentation â€” all powered by **Jaclang** agents.

---

## ğŸš€ Overview

This project demonstrates how Jaclang can be used to build an **AI-powered multi-agent system** for automatic code documentation generation.

- ğŸ¤– Multi-agent AI design (RepoMapper â€¢ CodeAnalyzer â€¢ DocGenie)
- ğŸ§  Automatic Markdown documentation generation
- âš™ï¸ Jac-based API endpoints with walker architecture
- ğŸ¨ Streamlit-powered frontend interface
- ğŸ“¦ Supports Python and Jaclang codebases

---

## ğŸ§© Architecture

| Component | Description |
|-----------|-------------|
| **codebase_genius.jac** | Core declarations: data objects (RepoInfo, CodeFileInfo, Symbol), nodes (RepoMapper, CodeAnalyzer, DocGenie), and walkers (CodeGenius, generate_docs) |
| **codebase_genius.impl.jac** | Implementation logic for all nodes and walkers, including the multi-agent orchestration pipeline |
| **frontend.jac** | Streamlit-based UI for interacting with the documentation generation system |
| **tools.jac** | Utility classes (FileParser, ReadmeProcessor) for code parsing and README extraction |

### Multi-Agent Pipeline

```
User Input â†’ generate_docs walker â†’ CodeGenius orchestrator
                                           â†“
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â†“                    â†“                    â†“
                RepoMapper          CodeAnalyzer           DocGenie
              (Clone & Scan)      (Extract Symbols)    (Generate Docs)
```

---

## ğŸ› ï¸ Setup Instructions

### 1ï¸âƒ£ Install Dependencies

```bash
pip install -r requirements.txt
```

This will install:
- `jaclang` - The Jaclang language runtime
- `byllm` - AI model integration
- `gitpython` - Repository cloning
- `streamlit` - Frontend framework
- `requests` - HTTP client
- `python-dotenv` - Environment variable management

### 2ï¸âƒ£ Optional: Set GitHub Token

For private repositories or to avoid rate limits:

```bash
export GITHUB_TOKEN=your_github_token_here
```

### 3ï¸âƒ£ Run the Application

#### Option A: Integrated Mode (Streamlit with Built-in API)
```bash
jac run frontend.jac
```

The Streamlit UI will be available at `http://localhost:8501`

#### Option B: Separate API Server (if needed)
```bash
# Start the API server
jac serve codebase_genius.jac

# In another terminal, run the frontend
jac run frontend.jac
```

---

## ğŸ§  How It Works

1. **User Input**: Enter a GitHub repository URL in the Streamlit frontend
2. **RepoMapper Agent**: Clones the repository and scans for Python/Jaclang files
3. **CodeAnalyzer Agent**: Parses each file and extracts symbols (functions, classes, nodes, walkers)
4. **DocGenie Agent**: Generates comprehensive Markdown documentation with:
   - Repository overview
   - File structure listing
   - API reference with all symbols
   - Mermaid architecture diagrams
   - Installation instructions
5. **Output**: Documentation saved to `./outputs/{repo_name}/documentation.md`

---

## ğŸ“ Project Structure

```
codebase-genius/
â”œâ”€â”€ codebase_genius.jac         # Core type definitions and declarations
â”œâ”€â”€ codebase_genius.impl.jac    # Agent implementations and orchestration
â”œâ”€â”€ frontend.jac                # Streamlit UI
â”œâ”€â”€ tools.jac                   # Parsing utilities
â”œâ”€â”€ requirements.txt            # Python dependencies
â””â”€â”€ tmp_repos/                  # Cloned repositories (created at runtime)
â””â”€â”€ outputs/                    # Generated documentation (created at runtime)
```

---

## ğŸ§¾ Example Output

The system generates documentation like this:

```markdown
# flask Documentation

**Generated by Codebase Genius ğŸ§ **

---

## Overview
A simple framework for building complex web applications.

## Repository Structure
**Total Files:** 127

## API Reference

### `src/flask/app.py`
- **Flask** (class) - Line 42
- **run** (function) - Line 892
- **route** (function) - Line 156

### Architecture Diagram
[Mermaid diagram showing class relationships]
```

---

## ğŸ§‘â€ğŸ’» For Developers

- **Language:** Jaclang  
- **Frontend:** Streamlit  
- **AI Integration:** byllm with Gemini 1.5 Flash
- **Agent Architecture:**
  - **Nodes:** RepoMapper, CodeAnalyzer, DocGenie
  - **Walkers:** CodeGenius (orchestrator), generate_docs (API endpoint)
  - **Objects:** RepoInfo, CodeFileInfo, Symbol, DocOutput

### Key Jaclang Concepts Used

- **Nodes**: Stateful agents that perform specific tasks
- **Walkers**: Traversal logic that orchestrates multiple nodes
- **Semantic Annotations**: Type hints for AI-powered data structures
- **with entry**: Entry point syntax for Streamlit integration

---

## ğŸš€ Example Repositories to Try

- Flask: `https://github.com/pallets/flask`
- Requests: `https://github.com/psf/requests`
- Any Python or Jaclang repository!

---

## âš–ï¸ License

MIT License Â© 2025 â€” Brio97
